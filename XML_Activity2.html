<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Favorite Movies</title>
    <link rel="stylesheet" href="style.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <style>
        body {
    background-color: #FFFDD0;
    } 
    .table-content{
        margin-top: 100px;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    #studentTable > thead > tr > th,
    tbody > tr > td 
    {
        text-align: center !important;
    }
    </style>
</head>
<body>
    <section class="movies container">
        <table id="movieTable">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Year</th>
                    <th>Genre</th>
                    <th>Director</th>
                    <th>Summary</th>
                    <th>Poster</th>
                </tr>
            </thead>
            <tbody>
                <!-- Movie rows will be inserted here by JavaScript -->
            </tbody>
        </table>
    </section>


    
    <script>
        // Function to fetch and parse the XML file
        function fetchAndParseXML() {
            fetch('assets/movies.xml')  // Path to your XML file in the assets folder
                .then(response => response.text())  // Convert the response to text
                .then(xmlString => parseXMLData(xmlString))  // Parse the XML once it's fetched
                .catch(error => console.error('Error loading XML file:', error));
        }
    
        // Function to parse the XML data and populate the table
        function parseXMLData(xmlString) {
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(xmlString, "text/xml");
    
            const movies = xmlDoc.getElementsByTagName("movie");
    
            const tableBody = document.getElementById("movieTable").getElementsByTagName("tbody")[0];
    
            for (let i = 0; i < movies.length; i++) {
                const title = movies[i].getElementsByTagName("title")[0].textContent;
                const year = movies[i].getElementsByTagName("year")[0].textContent;
                const genre = movies[i].getElementsByTagName("genre")[0].textContent;
                const director = movies[i].getElementsByTagName("director")[0].textContent;
                const summary = movies[i].getElementsByTagName("summary")[0].textContent;
                const poster = movies[i].getElementsByTagName("poster")[0].textContent;
    
                const row = document.createElement("tr");
    
                row.innerHTML = `
                    <td>${title}</td>
                    <td>${year}</td>
                    <td>${genre}</td>
                    <td>${director}</td>
                    <td>${summary}</td>
                    <td><img src="${poster}" alt="${title} Poster" width="50"></td>
                `;
    
                tableBody.appendChild(row);
            }
        }
    
        // Call the function to fetch and parse the XML
        fetchAndParseXML();
    </script>
    
</body>
</html>